<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8" />
  <title>Video App</title>
  <style media="screen">
    * {
      margin: 0;
    }

    html {
      background: black;
    }

    #videoDiv {
      display: grid;
      /* grid-gap: 10px; */
      height: 20vh;
      top: 0;
      left: 0;
      /* position: relative; */
      grid-template-columns: repeat(auto-fill, 20vh);
      grid-auto-rows: 20vh;
      background: #101010;
      transition: all cubic-bezier(0.075, 0.82, 0.165, 1) 0.75s;
    }

    #hostDiv {
      width: 80vw;
      height: 80vh;
      background: black;
      align-items: center;
      transition: all cubic-bezier(0.075, 0.82, 0.165, 1) 0.75s;
    }

    #chatParent {
      width: 20vw;
      height: 100vh;
      background: #050505;
      color: white;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
      font-size: 30px;
      transition: all cubic-bezier(0.075, 0.82, 0.165, 1) 0.75s;
    }

    #chatDiv {
      margin: 20px;
      margin-top: 5px;
      overflow-x: hidden;
      height: 66.5vh;
    }

    .hidden-x {
      transform: translateX(20vw);
      visibility: hidden;
      transition: all cubic-bezier(0.075, 0.82, 0.165, 1) 0.75s;
    }

    .hidden-y {
      transform: translateY(20vh) scaleX(1.51);
      visibility: hidden;
      transition: all cubic-bezier(0.075, 0.82, 0.165, 1) 0.75s;
    }

    .big-host {
      width: 100vw;
      height: 100vh;
      /* transform: scale(1.5); */
      transform-origin: 0 0;
      transition: all cubic-bezier(0.075, 0.82, 0.165, 1) 0.75s;
    }

    button {
      height: 32px;
      padding-right: 15px;
      padding-left: 15px;
      /* width: 80px; */
      margin-top: 10px;
      text-align: center;
      border-radius: 10px;
      font-size: 18px;
      outline: none;
      border: none;
      text-decoration: none;
      background-color: #141414;
      color: white;
      cursor: pointer;
    }

    .simplebar-scrollbar::before {
      background-color: #333 !important;
    }

    *:focus {
      outline: none;
    }


    #videoDiv video {
      width: 20vh;
      height: 20vh;
      object-fit: cover;
    }

    #hostDiv video {
      width: 80vw;
      height: 80vh;
      object-fit: contain;
      transition: all cubic-bezier(0.075, 0.82, 0.165, 1) 0.75s;
    }

    #hostDiv.big-host video {
      width: 100vw;
      height: 100vh;
      object-fit: contain;
      transition: all cubic-bezier(0.075, 0.82, 0.165, 1) 0.75s;
    }

    #toggleBtn.change::after {
      content: 'üêµ';
    }

    #toggleBtn::after {
      content: 'üôà';
    }
  </style>
  <script type="text/javascript">
    var roomID = "<%= RoomId %>"
  </script>
  <script src="https://unpkg.com/peerjs@1.3.1/dist/peerjs.min.js" defer></script>
  <script src="socket.io/socket.io.js" defer></script>
  <link rel="stylesheet" href="https://unpkg.com/simplebar@latest/dist/simplebar.css" />
  <script src="https://unpkg.com/simplebar@latest/dist/simplebar.min.js"></script>
  <script src="index.js" charset="utf-8" defer></script>
</head>

<body>
  <div style="flex-direction:row;display:flex;max-width: 100vw;max-height: 100vh;overflow: hidden;">
    <button id="toggleBtn"
      onclick="{document.getElementById('chatParent').classList.toggle('hidden-x');document.getElementById('videoDiv').classList.toggle('hidden-y');document.getElementById('hostDiv').classList.toggle('big-host');document.getElementById('toggleBtn').classList.toggle('change');}"
      style="position: absolute;top: 1vh;right: 1vh;width: 50px;height: 50px;background: #141414;font-size: 25px;padding: 0;z-index: 3;">
    </button>
    <div style="flex-direction: column;display: flex;">
      <div id="hostDiv"> </div>
      <div id="videoDiv"> </div>
    </div>
    <div id="chatParent">

      <div style="margin: 20px;font-weight: bold;font-size: 35px;">Watch Party</div>
      <div style="margin-top: -10px;margin-left: 25px;font-size: 20px;">Party Link</div>
      <div
        style="background: #151515;margin:10px;padding:10px;padding-left:20px;margin-left:20px;margin-right:25px;font-size:20px;border-radius:15px;">
        <a href="#"
          style="color: #aaa;overflow:hidden;white-space: nowrap;text-overflow: ellipsis;width: 100%;display: inline-block;">https://www.primevideo.com/storefront/tv/ref=atv_nb_sf_tv</a>
      </div>
      <div style="margin-left: 25px;">
        <button style="background: blue;" onclick="copyTextToClipboard('HI')">Copy Link</button>
        <button onclick="window.open('https:\/\/www.google.com', '_blank')">Open Link</button>
      </div>
      <div style="margin: 20px;margin-bottom: 0;">Live Chat</div>
      <div id="chatDiv" data-simplebar>
        <!-- chat message -->

        <div style="margin: 5px; display:flex;position: relative;">
          <!-- photo/emoji -->
          <div
            style="background: #333;height: 60px;width: 60px;z-index: 2;position: absolute; margin-top: 20.5px;border-radius: 50%;">
          </div>
          <div
            style="background: #141414;min-height: 80px;max-height:200px;overflow-y:auto;overflow-x:none;width: 300px;z-index: 1;margin: 10px;margin-left: 50px;border-radius: 10px;">
            <div
              style="color:#6996ff;font-size: 18px;margin: 15px;margin-left: 20px;margin-bottom:0;overflow:hidden;white-space: nowrap;text-overflow: ellipsis;width: 200px;display: inline-block;">
              Sender Name</div>
            <p style="color:white;font-size: 18px;margin: 10px;margin-left: 20px;margin-top:0px;margin-bottom: 18px;">
              Messages
            </p>
          </div>
        </div>
      </div>
      <div style="position: absolute;bottom: 3px;display: flex;width:20vw;justify-content: center;">
        <input
          style="color:white;width: 80%; height: 40px;background-color: #141414;border: none;padding: 5px;padding-left: 20px;padding-right: 20px; font-size: 18px;border-radius: 15px;margin: 10px;"
          placeholder="Type a message" />
      </div>
    </div>
  </div>
</body>

</html>